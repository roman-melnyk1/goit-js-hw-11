{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export const fetchImages = (searchedQuery) => {\n  const params = new URLSearchParams({\n    key: '48414882-2ceb04708685b14a14771b53a',\n    q: searchedQuery,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n\n  return fetch(`https://pixabay.com/api/?${params}`).then((response) => {\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    return response.json();\n  });\n};\n\n\n\n","export const createGalleryItem = (imgInfo) => {\n  return `<li class=\"gallery-item\">\n    <a href=\"${imgInfo.largeImageURL}\" class=\"gallery-link\">\n      <img src=\"${imgInfo.webformatURL}\" alt=\"${imgInfo.tags}\" width=\"360\" class=\"gallery-img\" loading=\"lazy\" />\n    </a>\n    <ul class=\"gallery-list\">\n      <li>\n        <h3>Likes</h3>\n        <p>${imgInfo.likes}</p>\n      </li>\n      <li>\n        <h3>Views</h3>\n        <p>${imgInfo.views}</p>\n      </li>\n      <li>\n        <h3>Comments</h3>\n        <p>${imgInfo.comments}</p>\n      </li>\n      <li>\n        <h3>Downloads</h3>\n        <p>${imgInfo.downloads}</p>\n      </li>\n    </ul>\n  </li>`;\n};\n","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport { fetchImages } from './js/pixabay-api.js';\nimport { createGalleryItem } from './js/render-functions.js';\n\nconst form = document.querySelector('.search-form');\nconst galleryContainer = document.querySelector('.gallery');\n\nconst formSubmit = async (event) => {\n  event.preventDefault();\n  const loader = document.querySelector('.loader-container');\n  const searchedQuery = event.currentTarget.elements.query.value.trim();\n\n  galleryContainer.innerHTML = '';\n  loader.style.display = 'block';\n\n  if (!searchedQuery) {\n    loader.style.display = 'none';\n    iziToast.error({\n      title: '',\n      message: 'Please complete the form',\n      messageColor: '#fafafb',\n      icon: 'fas fa-keyboard',\n      iconColor: '#fafafb',\n      position: 'topRight',\n      backgroundColor: '#ef4040',\n      color: '#fafafb',\n    });\n    return;\n  }\n\n  try {\n    const data = await fetchImages(searchedQuery);\n\n    if (data.total === 0) {\n      iziToast.error({\n        title: '',\n        message: 'Sorry, there are no images matching your search query. Please try again!',\n        messageColor: '#fafafb',\n        icon: 'far fa-file-image',\n        iconColor: '#fafafb',\n        position: 'topRight',\n        backgroundColor: '#ef4040',\n        color: '#fafafb',\n      });\n      return;\n    }\n\n    const galleryTemplate = data.hits.map((el) => createGalleryItem(el)).join('');\n    galleryContainer.innerHTML = galleryTemplate;\n\n    const modal = new SimpleLightbox('.gallery a', {\n      captionsData: 'alt',\n      captions: true,\n      captionDelay: 250,\n    });\n    modal.refresh();\n\n  } catch (err) {\n    iziToast.error({\n      message: 'Something went wrong. Please try again later.',\n      messageColor: '#fafafb',\n      icon: 'fas fa-exclamation-triangle',\n      iconColor: '#fafafb',\n      position: 'topRight',\n      backgroundColor: '#ef4040',\n      color: '#fafafb',\n    });\n    console.error(err);\n  } finally {\n    loader.style.display = 'none';\n    event.target.reset();\n  }\n};\n\nform.addEventListener('submit', formSubmit);\n"],"names":["fetchImages","searchedQuery","params","response","createGalleryItem","imgInfo","form","galleryContainer","formSubmit","event","loader","iziToast","data","galleryTemplate","el","SimpleLightbox","err"],"mappings":"wvBAAO,MAAMA,EAAeC,GAAkB,CAC5C,MAAMC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGD,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EAED,OAAO,MAAM,4BAA4BC,CAAM,EAAE,EAAE,KAAMC,GAAa,CACpE,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,uBAAuBA,EAAS,MAAM,EAAE,EAE1D,OAAOA,EAAS,KAAM,CAC1B,CAAG,CACH,ECfaC,EAAqBC,GACzB;AAAA,eACMA,EAAQ,aAAa;AAAA,kBAClBA,EAAQ,YAAY,UAAUA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA,aAK/CA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,aAIbA,EAAQ,KAAK;AAAA;AAAA;AAAA;AAAA,aAIbA,EAAQ,QAAQ;AAAA;AAAA;AAAA;AAAA,aAIhBA,EAAQ,SAAS;AAAA;AAAA;AAAA,SCbxBC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAmB,SAAS,cAAc,UAAU,EAEpDC,EAAa,MAAOC,GAAU,CAClCA,EAAM,eAAgB,EACtB,MAAMC,EAAS,SAAS,cAAc,mBAAmB,EACnDT,EAAgBQ,EAAM,cAAc,SAAS,MAAM,MAAM,KAAM,EAKrE,GAHAF,EAAiB,UAAY,GAC7BG,EAAO,MAAM,QAAU,QAEnB,CAACT,EAAe,CAClBS,EAAO,MAAM,QAAU,OACvBC,EAAS,MAAM,CACb,MAAO,GACP,QAAS,2BACT,aAAc,UACd,KAAM,kBACN,UAAW,UACX,SAAU,WACV,gBAAiB,UACjB,MAAO,SACb,CAAK,EACD,MACJ,CAEE,GAAI,CACF,MAAMC,EAAO,MAAMZ,EAAYC,CAAa,EAE5C,GAAIW,EAAK,QAAU,EAAG,CACpBD,EAAS,MAAM,CACb,MAAO,GACP,QAAS,2EACT,aAAc,UACd,KAAM,oBACN,UAAW,UACX,SAAU,WACV,gBAAiB,UACjB,MAAO,SACf,CAAO,EACD,MACN,CAEI,MAAME,EAAkBD,EAAK,KAAK,IAAKE,GAAOV,EAAkBU,CAAE,CAAC,EAAE,KAAK,EAAE,EAC5EP,EAAiB,UAAYM,EAEf,IAAIE,EAAe,aAAc,CAC7C,aAAc,MACd,SAAU,GACV,aAAc,GACpB,CAAK,EACK,QAAS,CAEhB,OAAQC,EAAK,CACZL,EAAS,MAAM,CACb,QAAS,gDACT,aAAc,UACd,KAAM,8BACN,UAAW,UACX,SAAU,WACV,gBAAiB,UACjB,MAAO,SACb,CAAK,EACD,QAAQ,MAAMK,CAAG,CACrB,QAAY,CACRN,EAAO,MAAM,QAAU,OACvBD,EAAM,OAAO,MAAO,CACxB,CACA,EAEAH,EAAK,iBAAiB,SAAUE,CAAU"}